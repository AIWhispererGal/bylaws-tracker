<div class="success-screen text-center">
    <div class="success-animation animate__animated animate__bounceIn">
        <!-- Success Icon with Confetti Effect -->
        <div class="success-icon-container position-relative">
            <div class="success-icon">
                <i class="bi bi-check-circle-fill text-success"></i>
            </div>
            <!-- Confetti Animation -->
            <div class="confetti" id="confetti"></div>
        </div>
    </div>

    <h2 class="success-title mt-4 animate__animated animate__fadeIn" style="animation-delay: 0.3s">
        ðŸŽ‰ Setup Complete!
    </h2>
    <p class="success-subtitle text-muted animate__animated animate__fadeIn" style="animation-delay: 0.5s">
        Your organization is ready to go
    </p>

    <!-- Setup Summary -->
    <div class="setup-summary mt-5 animate__animated animate__fadeInUp" style="animation-delay: 0.7s">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title mb-4">
                    <i class="bi bi-clipboard-check"></i>
                    What We've Set Up
                </h5>
                <div class="summary-grid">
                    <div class="summary-item">
                        <div class="summary-icon">
                            <i class="bi bi-building"></i>
                        </div>
                        <div class="summary-content">
                            <h6>Organization</h6>
                            <p class="text-muted mb-0"><%= organization?.name || 'Your Organization' %></p>
                        </div>
                    </div>

                    <div class="summary-item">
                        <div class="summary-icon">
                            <i class="bi bi-file-earmark-text"></i>
                        </div>
                        <div class="summary-content">
                            <h6>Document Structure</h6>
                            <p class="text-muted mb-0"><%= documentStructure || 'Article â†’ Section' %></p>
                        </div>
                    </div>

                    <div class="summary-item">
                        <div class="summary-icon">
                            <i class="bi bi-diagram-3"></i>
                        </div>
                        <div class="summary-content">
                            <h6>Approval Workflow</h6>
                            <p class="text-muted mb-0"><%= workflowStages || '3' %> stage workflow</p>
                        </div>
                    </div>

                    <% if (sectionsImported) { %>
                    <div class="summary-item">
                        <div class="summary-icon">
                            <i class="bi bi-check2-all"></i>
                        </div>
                        <div class="summary-content">
                            <h6>Bylaws Imported</h6>
                            <p class="text-muted mb-0"><%= sectionsImported %> sections ready</p>
                        </div>
                    </div>
                    <% } %>
                </div>
            </div>
        </div>
    </div>

    <!-- Next Steps -->
    <div class="next-steps mt-5 animate__animated animate__fadeInUp" style="animation-delay: 0.9s">
        <h5 class="mb-4">
            <i class="bi bi-signpost-2"></i>
            What's Next?
        </h5>
        <div class="row g-3">
            <div class="col-md-4">
                <div class="next-step-card">
                    <div class="step-number">1</div>
                    <h6>Explore Your Bylaws</h6>
                    <p class="small text-muted">Navigate and search your documents</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="next-step-card">
                    <div class="step-number">2</div>
                    <h6>Invite Your Team</h6>
                    <p class="small text-muted">Add board members and reviewers</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="next-step-card">
                    <div class="step-number">3</div>
                    <h6>Make Your First Edit</h6>
                    <p class="small text-muted">Try suggesting a change</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Tips -->
    <div class="quick-tips mt-5 animate__animated animate__fadeInUp" style="animation-delay: 1.1s">
        <div class="alert alert-info">
            <h6 class="alert-heading">
                <i class="bi bi-lightbulb"></i>
                Quick Tips
            </h6>
            <ul class="text-start mb-0 small">
                <li>Use the search bar to quickly find any section</li>
                <li>Click "Suggest Change" to propose amendments</li>
                <li>Track all changes in the "Changes" tab</li>
                <li>Export your bylaws as PDF anytime</li>
            </ul>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons mt-5 animate__animated animate__fadeInUp" style="animation-delay: 1.3s">
        <a href="/dashboard" class="btn btn-primary btn-lg px-5 mb-3">
            <i class="bi bi-house-door"></i>
            Go to Dashboard
        </a>
        <br>
        <a href="/dashboard/documents" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-right"></i>
            View Your Documents
        </a>
    </div>

    <!-- Celebration Footer -->
    <div class="celebration-footer mt-5 pt-4 border-top">
        <p class="text-muted small">
            <i class="bi bi-stars"></i>
            Welcome to better governance! If you need help, we're here for you.
        </p>
    </div>
</div>

<script>
// Confetti animation
(function() {
    const confettiContainer = document.getElementById('confetti');
    const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#ffd93d', '#6bcf7f', '#a29bfe'];
    const confettiCount = 50;

    function createConfetti() {
        for (let i = 0; i < confettiCount; i++) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti-piece';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = Math.random() * 3 + 's';
            confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
            confettiContainer.appendChild(confetti);
        }
    }

    createConfetti();

    // Clear setup session data
    fetch('/setup/clear-session', { method: 'POST' })
        .catch(err => console.error('Failed to clear session:', err));
})();
</script>

<style>
.success-icon-container {
    display: inline-block;
}

.success-icon {
    font-size: 8rem;
    animation: scaleIn 0.5s ease-out;
}

@keyframes scaleIn {
    from {
        transform: scale(0);
    }
    to {
        transform: scale(1);
    }
}

.success-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: #2d3748;
}

.success-subtitle {
    font-size: 1.25rem;
}

.summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
}

.summary-item {
    display: flex;
    align-items: flex-start;
    text-align: left;
}

.summary-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    margin-right: 1rem;
    flex-shrink: 0;
}

.summary-content h6 {
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.next-step-card {
    background: #f8f9fa;
    border-radius: 12px;
    padding: 1.5rem;
    height: 100%;
    transition: transform 0.2s, box-shadow 0.2s;
}

.next-step-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.step-number {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.25rem;
    margin: 0 auto 1rem;
}

.confetti {
    position: absolute;
    top: -100px;
    left: 0;
    width: 100%;
    height: 300px;
    overflow: hidden;
    pointer-events: none;
}

.confetti-piece {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #ff6b6b;
    top: -10px;
    opacity: 0;
    animation: confetti-fall 3s linear infinite;
}

@keyframes confetti-fall {
    0% {
        top: -10px;
        opacity: 1;
        transform: rotate(0deg);
    }
    100% {
        top: 300px;
        opacity: 0;
        transform: rotate(360deg);
    }
}
</style>
